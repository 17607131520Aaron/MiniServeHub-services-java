# 预发环境变量配置
# 复制此文件为 .env 并修改相应的值

# 服务器配置
SERVER_PORT=8080
TOMCAT_MAX_THREADS=250
TOMCAT_MIN_THREADS=15
TOMCAT_ACCEPT_COUNT=100
TOMCAT_MAX_CONNECTIONS=8192

# 数据库配置
DB_HOST=staging-db.miniservehub.com
DB_PORT=3306
DB_NAME=miniservehub_staging
DB_USERNAME=miniservehub_staging
DB_PASSWORD=your_staging_db_password
DB_SSL=true
DB_ALLOW_PUBLIC_KEY=false

# Druid连接池配置
DRUID_INITIAL_SIZE=15
DRUID_MIN_IDLE=15
DRUID_MAX_ACTIVE=80
DRUID_MAX_WAIT=60000
DRUID_EVICTION_RUNS=60000
DRUID_MIN_EVICTABLE=300000
DRUID_MAX_EVICTABLE=900000
DRUID_SLOW_SQL_MILLIS=2000

# Druid监控配置
DRUID_USERNAME=admin
DRUID_PASSWORD=your_staging_druid_password
DRUID_ENABLED=true
DRUID_ALLOW_IPS=127.0.0.1,10.0.0.0/8

# JPA配置
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=false
JPA_FORMAT_SQL=false
JPA_USE_COMMENTS=false
JPA_BATCH_SIZE=50
JPA_ORDER_INSERTS=true
JPA_ORDER_UPDATES=true

# Redis配置
REDIS_HOST=staging-redis.miniservehub.com
REDIS_PORT=6379
REDIS_PASSWORD=your_staging_redis_password
REDIS_DATABASE=0
REDIS_TIMEOUT=10000ms
REDIS_MAX_ACTIVE=32
REDIS_MAX_WAIT=-1ms
REDIS_MAX_IDLE=16
REDIS_MIN_IDLE=4
REDIS_CLUSTER_ADAPTIVE=false
REDIS_CLUSTER_PERIOD=30s

# 缓存配置
CACHE_TTL=3600000

# 日志配置
LOG_LEVEL_MINISERVEHUB=INFO
LOG_LEVEL_WEB=WARN
LOG_LEVEL_SQL=WARN
LOG_LEVEL_SQL_BINDER=WARN
LOG_LEVEL_CACHE=WARN
LOG_LEVEL_SECURITY=WARN
LOG_FILE_NAME=logs/miniservehub-staging.log
LOG_MAX_FILE_SIZE=100MB
LOG_MAX_HISTORY=15
LOG_TOTAL_SIZE_CAP=2GB

# JWT配置
JWT_SECRET=your_very_long_and_secure_jwt_secret_key_for_staging
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=604800

# 监控配置
MANAGEMENT_ENDPOINTS=health,info,metrics,prometheus
MANAGEMENT_BASE_PATH=/actuator
MANAGEMENT_HEALTH_DETAILS=never
MANAGEMENT_PORT=9090

# 业务配置
MINISERVEHUB_ENV=staging
MINISERVEHUB_DEBUG=false
MINISERVEHUB_CACHE_TTL=3600
MINISERVEHUB_CORS=false

# 应用配置
SPRING_PROFILES_ACTIVE=staging
